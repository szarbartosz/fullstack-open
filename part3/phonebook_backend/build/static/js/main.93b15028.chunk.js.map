{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deleteEntry","className","name","number","onClick","Persons","persons","map","key","Filter","nameFilter","numberFilter","nameFilterChangeHandler","numberFilterChangeHandler","value","onChange","placeholder","PersonForm","submitHandler","nameInput","nameChangeHandler","numberInput","numberChangeHandler","onSubmit","type","Notification","errorMessage","successMessage","disabled","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newNameFilter","setNewNameFilter","newNumberFilter","setNewNumberFilter","succesMessage","setSuccessMesage","setErrorMesage","useEffect","personService","initialPersons","updateNumber","find","p","changedPerson","console","log","returnedPerson","catch","error","setTimeout","filter","event","preventDefault","filteredPersons","length","window","confirm","concat","target","RegExp","test","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93b15028.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteEntry }) => {\n  return (\n  <li className=\"list-group-item d-flex justify-content-between\">\n    {person.name} {person.number}\n    <button onClick={deleteEntry} className=\"btn btn-danger btn-sm\">delete</button>\n  </li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deleteEntry }) => {\n  return (\n    <div className=\"mt-4 mb-4\">\n      <h3>Contacts</h3>\n      <ul className=\"list-group\">\n        {persons.map(person => <Person key={person.name} person={person} deleteEntry={() => deleteEntry(person)} />)}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons\n\n","import React from 'react'\n\nconst Filter = ({ nameFilter, numberFilter, nameFilterChangeHandler, numberFilterChangeHandler}) => {\n  return (\n    <div className=\"mt-4 mb-4\">\n      <h3>Filter</h3>\n      <form>\n        <div className=\"form-group\">\n          <label>by name</label>\n          <input value={nameFilter} onChange={nameFilterChangeHandler} className=\"form-control\" placeholder=\"enter firstname or lastname...\"/>\n        </div>\n        <div className=\"form-group\">\n          <label>by number</label>\n          <input value={numberFilter} onChange={numberFilterChangeHandler} className=\"form-control\" placeholder=\"enter number...\"/>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ submitHandler, nameInput, nameChangeHandler, numberInput, numberChangeHandler }) => {\n  return (\n    <div className=\"mt-4 mb-4\">\n      <h3>Add a new contact</h3>\n      <form onSubmit={submitHandler}>\n      <div className=\"form-group\">\n        <label>name</label>\n        <input value={nameInput} onChange={nameChangeHandler} placeholder=\"enter name\" className=\"form-control\"/>\n      </div >\n      <div className=\"form-group\">\n        <label>number</label>\n        <input value={numberInput} onChange={numberChangeHandler} placeholder=\"enter number\" className=\"form-control\"/>\n      </div>\n        <button type=\"submit\" className=\"btn btn-success btn-block\">add</button>\n      </form> \n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ errorMessage, successMessage }) => {\n  if (errorMessage === null) {\n    if (successMessage === null) {\n      return null\n    } else {\n      return (\n        <div className=\"mt-4 mb-4\">\n          <button type=\"button\" className=\"btn btn-success btn-block\" disabled>{successMessage}</button>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <div className=\"mt-4 mb-4\">\n      <button type=\"button\" className=\"btn btn-danger btn-block\" disabled>{errorMessage}</button>\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst deleteEntry = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updateNumber = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nexport default { getAll, create, deleteEntry, updateNumber }","import React, { useEffect, useState } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newNameFilter, setNewNameFilter ] = useState('')\n  const [ newNumberFilter, setNewNumberFilter ] = useState('')\n  const [ succesMessage, setSuccessMesage ] = useState(null)\n  const [ errorMessage, setErrorMesage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilterChange = (event) => {\n    setNewNameFilter(event.target.value)\n  }\n\n  const handleNumberFilterChange = (event) => {\n    setNewNumberFilter(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    let filteredPersons = persons.filter(person => person.name === newName)\n    \n    if (filteredPersons.length > 0) {\n      let id = filteredPersons[0].id\n      let isConfirmed = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\n      if (isConfirmed) {\n        updateNumber(id, newNumber)\n        setNewName('')\n        setNewNumber('')\n\n        setSuccessMesage(`Changed number of: ${newName}`)\n        setTimeout(() => {\n          setSuccessMesage(null)\n        }, 5000)\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n\n          setSuccessMesage(`Added to contacts: ${returnedPerson.name}`)\n          setTimeout(() => {\n            setSuccessMesage(null)\n          }, 5000)  \n        })\n    }\n  }\n\n  const updateNumber = (id, number) => {\n    const person = persons.find(p => p.id === id)\n    const changedPerson = { ...person, number: number}\n    console.log(changedPerson)\n\n    personService\n    .updateNumber(id, changedPerson)\n    .then(returnedPerson => {\n      setPersons(persons.map(p => p.id === id ? p = returnedPerson : p))\n    })\n    .catch(error => {\n      setErrorMesage(`Information of: ${person.name} has already been removed from the server!`)\n      setTimeout(() => {\n        setErrorMesage(null)\n      }, 5000)\n      setPersons(persons.filter(p => p.id !== id))\n    })\n  }\n\n  const deleteEntry = person => {\n    let isConfirmed = window.confirm(`delete ${person.name}?`)\n\n    if (isConfirmed) {\n      personService\n      .deleteEntry(person.id)\n      .then(response => {\n        setPersons(persons.filter(p => p.id !== person.id))\n\n        setSuccessMesage(`Deleted information of: ${person.name}`)\n        setTimeout(() => {\n          setSuccessMesage(null)\n        }, 5000)  \n      })\n      .catch(error => {\n        setErrorMesage(`Information of: ${person.name} has already been removed from the server!`)\n        setTimeout(() => {\n          setErrorMesage(null)\n        }, 5000)\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n    }\n    \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <hr/>\n\n      <Notification successMessage={succesMessage} errorMessage={errorMessage} />\n\n      <PersonForm submitHandler={addPerson} nameInput={newName} nameChangeHandler={handleNameChange}\n        numberInput={newNumber} numberChangeHandler={handleNumberChange} />      \n\n      <Filter nameFilter={newNameFilter} numberFilter={newNumberFilter} \n        nameFilterChangeHandler={handleNameFilterChange}  numberFilterChangeHandler={handleNumberFilterChange}/>\n      \n      <Persons persons={persons\n                        .filter(person => new RegExp(newNameFilter, 'i').test(person.name))\n                        .filter(person => new RegExp(newNumberFilter).test(person.number))\n                      } deleteEntry={deleteEntry} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}